From 1c8b88ab9b72fe4c7c4193170d0810aa42b889cf Mon Sep 17 00:00:00 2001
From: Tom Lane <tgl@sss.pgh.pa.us>
Date: Sun, 28 May 2017 15:49:44 -0400
Subject: [PATCH] Improve v10 release notes' discussion of money operator
 changes.

Mention the rounding behavioral change for money/int8.

Discussion: https://postgr.es/m/20170519164653.29941.19098@wrigleys.postgresql.org
---
 doc/src/sgml/release-10.sgml | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

diff --git a/doc/src/sgml/release-10.sgml b/doc/src/sgml/release-10.sgml
index 441e6c8d8af7..013632ed7a83 100644
--- a/doc/src/sgml/release-10.sgml
+++ b/doc/src/sgml/release-10.sgml
@@ -1929,9 +1929,19 @@
       2017-01-17 [323b96aa3] Register missing money operators in system catalogs
       -->
       <para>
-       Add <link linkend="datatype-money"><type>MONEY</></> operators
-       for multiplication and division with <type>INT8</> values (Peter
-       Eisentraut)
+       Add operators for multiplication and division
+       of <link linkend="datatype-money"><type>money</></link> values
+       with <type>int8</> values (Peter Eisentraut)
+      </para>
+
+      <para>
+       Previously such cases would result in converting the <type>int8</>
+       values to <type>float8</> and then using
+       the <type>money</>-and-<type>float8</> operators.  The new behavior
+       avoids possible precision loss.  But note that division
+       of <type>money</> by <type>int8</> now truncates the quotient, like
+       other integer-division cases, while the previous behavior would have
+       rounded.
       </para>
      </listitem>
 
@@ -1941,7 +1951,7 @@
       2016-09-14 [656df624c] Add overflow checks to money type input function
       -->
       <para>
-       More strictly check the <type>MONEY</> type for overflow operations
+       More strictly check the <type>money</> type for overflow operations
        (Peter Eisentraut)
       </para>
      </listitem>
