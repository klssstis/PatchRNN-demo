From 3f3542621f131379e32e9283d40853cb6d03a97f Mon Sep 17 00:00:00 2001
From: Peter Eisentraut <peter@eisentraut.org>
Date: Sat, 6 Jul 2019 14:58:08 +0200
Subject: [PATCH] psql: Fix logging output format

In normal interactive mode, psql's log messages accidentally got a
"psql:" prefix that was not supposed to be there.  This only happened
if there was no .psqlrc file being read, so it wasn't discovered for a
while.  Fix this by adding the appropriate logging format
configuration call in the right code path.

Discussion: https://www.postgresql.org/message-id/7586.1560540361@sss.pgh.pa.us
---
 src/bin/psql/startup.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/bin/psql/startup.c b/src/bin/psql/startup.c
index bb9921a89418..4730c733962c 100644
--- a/src/bin/psql/startup.c
+++ b/src/bin/psql/startup.c
@@ -437,6 +437,7 @@ main(int argc, char *argv[])
 	 */
 	else
 	{
+		pg_logging_config(PG_LOG_FLAG_TERSE);
 		connection_warnings(true);
 		if (!pset.quiet)
 			printf(_("Type \"help\" for help.\n\n"));
