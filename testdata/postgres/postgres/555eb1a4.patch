From 555eb1a4f0114e1c4017093fe840045dde1ed9ea Mon Sep 17 00:00:00 2001
From: Peter Eisentraut <peter@eisentraut.org>
Date: Wed, 21 Oct 2020 14:20:50 +0200
Subject: [PATCH] Remove obsolete ifdefs

Commit 8dace66e0735ca39b779922d02c24ea2686e6521 added #ifdefs for a
number of errno symbols because they were not present on Windows.
Later, commit 125ad539a275db5ab8f4647828b80a16d02eabd2 added
replacement #defines for some of those symbols.  So some of the
changes from the first commit are made dead code by the second commit
and can now be removed.

Discussion: https://www.postgresql.org/message-id/flat/6dee8574-b0ad-fc49-9c8c-2edc796f0033@2ndquadrant.com
---
 src/port/strerror.c | 10 ----------
 1 file changed, 10 deletions(-)

diff --git a/src/port/strerror.c b/src/port/strerror.c
index 43a9761d90bd..127bc5ef1fee 100644
--- a/src/port/strerror.c
+++ b/src/port/strerror.c
@@ -118,14 +118,10 @@ get_errno_symbol(int errnum)
 			return "E2BIG";
 		case EACCES:
 			return "EACCES";
-#ifdef EADDRINUSE
 		case EADDRINUSE:
 			return "EADDRINUSE";
-#endif
-#ifdef EADDRNOTAVAIL
 		case EADDRNOTAVAIL:
 			return "EADDRNOTAVAIL";
-#endif
 		case EAFNOSUPPORT:
 			return "EAFNOSUPPORT";
 #ifdef EAGAIN
@@ -176,10 +172,8 @@ get_errno_symbol(int errnum)
 			return "EINVAL";
 		case EIO:
 			return "EIO";
-#ifdef EISCONN
 		case EISCONN:
 			return "EISCONN";
-#endif
 		case EISDIR:
 			return "EISDIR";
 #ifdef ELOOP
@@ -216,20 +210,16 @@ get_errno_symbol(int errnum)
 			return "ENOSPC";
 		case ENOSYS:
 			return "ENOSYS";
-#ifdef ENOTCONN
 		case ENOTCONN:
 			return "ENOTCONN";
-#endif
 		case ENOTDIR:
 			return "ENOTDIR";
 #if defined(ENOTEMPTY) && (ENOTEMPTY != EEXIST) /* same code on AIX */
 		case ENOTEMPTY:
 			return "ENOTEMPTY";
 #endif
-#ifdef ENOTSOCK
 		case ENOTSOCK:
 			return "ENOTSOCK";
-#endif
 #ifdef ENOTSUP
 		case ENOTSUP:
 			return "ENOTSUP";
