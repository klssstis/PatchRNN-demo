From 4f63e85eb149792492a703f01a3a5b89bf5509a7 Mon Sep 17 00:00:00 2001
From: Andres Freund <andres@anarazel.de>
Date: Mon, 12 Mar 2018 23:09:58 -0700
Subject: [PATCH] Add COSTS off to two EXPLAIN using tests.

Discussion: https://postgr.es/m/20180312222023.i4sgkbl4oqtstus3@alap3.anarazel.de
---
 src/test/regress/expected/subselect.out | 24 ++++++++++++------------
 src/test/regress/sql/subselect.sql      |  4 ++--
 2 files changed, 14 insertions(+), 14 deletions(-)

diff --git a/src/test/regress/expected/subselect.out b/src/test/regress/expected/subselect.out
index 3b2bf3273e88..2904ae43e55f 100644
--- a/src/test/regress/expected/subselect.out
+++ b/src/test/regress/expected/subselect.out
@@ -232,23 +232,23 @@ SELECT *, pg_typeof(f1) FROM
 (3 rows)
 
 -- ... unless there's context to suggest differently
-explain verbose select '42' union all select '43';
-                   QUERY PLAN                    
--------------------------------------------------
- Append  (cost=0.00..0.05 rows=2 width=32)
-   ->  Result  (cost=0.00..0.01 rows=1 width=32)
+explain (verbose, costs off) select '42' union all select '43';
+         QUERY PLAN         
+----------------------------
+ Append
+   ->  Result
          Output: '42'::text
-   ->  Result  (cost=0.00..0.01 rows=1 width=32)
+   ->  Result
          Output: '43'::text
 (5 rows)
 
-explain verbose select '42' union all select 43;
-                   QUERY PLAN                   
-------------------------------------------------
- Append  (cost=0.00..0.05 rows=2 width=4)
-   ->  Result  (cost=0.00..0.01 rows=1 width=4)
+explain (verbose, costs off) select '42' union all select 43;
+     QUERY PLAN     
+--------------------
+ Append
+   ->  Result
          Output: 42
-   ->  Result  (cost=0.00..0.01 rows=1 width=4)
+   ->  Result
          Output: 43
 (5 rows)
 
diff --git a/src/test/regress/sql/subselect.sql b/src/test/regress/sql/subselect.sql
index 0100367b8d76..9b7125c111cb 100644
--- a/src/test/regress/sql/subselect.sql
+++ b/src/test/regress/sql/subselect.sql
@@ -99,8 +99,8 @@ SELECT *, pg_typeof(f1) FROM
 
 -- ... unless there's context to suggest differently
 
-explain verbose select '42' union all select '43';
-explain verbose select '42' union all select 43;
+explain (verbose, costs off) select '42' union all select '43';
+explain (verbose, costs off) select '42' union all select 43;
 
 -- check materialization of an initplan reference (bug #14524)
 explain (verbose, costs off)
