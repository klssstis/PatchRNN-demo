From 73b9d051c6076cf1cf1b90af505c8b379147c8b1 Mon Sep 17 00:00:00 2001
From: John Naylor <john.naylor@postgresql.org>
Date: Sun, 4 Sep 2022 09:23:57 +0700
Subject: [PATCH] Fix sign-compare warnings arising from port/simd.h

Noted while building an extension using -Wsign-compare.

Per gripe from Pavel Stehule
Discussion: https://www.postgresql.org/message-id/CAFj8pRAagKQHfw71aQbL8PbL0S_360M61V0_vPqJXbpUFvqnRA%40mail.gmail.com
---
 src/include/port/simd.h | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/src/include/port/simd.h b/src/include/port/simd.h
index 74da6e51e03b..61ae4ecf600f 100644
--- a/src/include/port/simd.h
+++ b/src/include/port/simd.h
@@ -165,7 +165,7 @@ vector8_has(const Vector8 v, const uint8 c)
 #ifdef USE_ASSERT_CHECKING
 	bool		assert_result = false;
 
-	for (int i = 0; i < sizeof(Vector8); i++)
+	for (Size i = 0; i < sizeof(Vector8); i++)
 	{
 		if (((const uint8 *) &v)[i] == c)
 		{
@@ -216,7 +216,7 @@ vector8_has_le(const Vector8 v, const uint8 c)
 #ifdef USE_ASSERT_CHECKING
 	bool		assert_result = false;
 
-	for (int i = 0; i < sizeof(Vector8); i++)
+	for (Size i = 0; i < sizeof(Vector8); i++)
 	{
 		if (((const uint8 *) &v)[i] <= c)
 		{
@@ -239,7 +239,7 @@ vector8_has_le(const Vector8 v, const uint8 c)
 	else
 	{
 		/* one byte at a time */
-		for (int i = 0; i < sizeof(Vector8); i++)
+		for (Size i = 0; i < sizeof(Vector8); i++)
 		{
 			if (((const uint8 *) &v)[i] <= c)
 			{
